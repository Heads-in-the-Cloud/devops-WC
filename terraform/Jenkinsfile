pipeline {

    agent any




    stages {

        stage('Terraform init') {


                steps {
                dir("folder") {
                    sh "terraform"
                }
                    sh 'terraform init'

                
            }
        }

        stage('Terraform action') {

                    steps {
                    dir("folder") {
                    sh "terraform"
                    }
                        sh "terraform ${action} -auto-approve"
                    }
             

        }



    }




}